const{html,useEffect,useRef}=window.neverland,NO_OP=()=>{};function makeDraggable(e,t,n){let o=0,s=0,l=0,a=0,c=e.closest(".panel");function i(e){(e=e||window.event).preventDefault(),o=l-e.clientX,s=a-e.clientY,l=e.clientX,a=e.clientY,c.style.top=c.offsetTop-s+"px",c.style.left=c.offsetLeft-o+"px"}function p(){document.onmouseup=null,document.onmousemove=null,t&&t({posY:c.style.top,posX:c.style.left})}e.onmousedown=function(e){n&&e.target!==c&&e.target.parentNode!==c||e.target.closest(".sys-btn")||((e=e||window.event).preventDefault(),l=e.clientX,a=e.clientY,document.onmouseup=p,document.onmousemove=i)}}function stopEvent(e){e.stopPropagation()}const Panel=e=>{const{visible:t,onPosChange:n,header:o,body:s,position:l}=e,a=useRef();e={...l||{posX:0,posY:0}},o||useEffect(()=>{makeDraggable(a.current,n||NO_OP,!0)}),e={visibility:t?"visible":"hidden",top:e.posY,left:e.posX};return html`<div class="panel" style="${e}" ref=${a}>${o} ${s}</div>`},PanelHeader=e=>{const{id:t,onPosChange:n,className:o,closable:s,closeHandler:l}=e,a=useRef();return useEffect(()=>{makeDraggable(a.current,n||NO_OP)}),html`<div class="panel-header ${o||""}" id=${t||""} ref=${a}><h5 class="panel-header__title">${e.title}</h5><div class="panel-header__controls">${s?html`<span class="sys-btn sys-btn-close" type="button" onclick=${l||NO_OP}></span>`:""}</div></div>`},PanelBody=(e,t)=>html`<div class=${"panel-body "+(t||"")} onInput=${stopEvent} onChange=${stopEvent} onKeyDown=${stopEvent} onKeyUp=${stopEvent} onKeyPress=${stopEvent}>${e}</div>`;export{Panel,PanelHeader,PanelBody};