const sharedObjectId=window.infoBox.sharedObjectId,sharedObject=window[sharedObjectId],_=sharedObject.i18n["_"],{Component,html}=window.neverland,{store,useDispatch,useSelector}=sharedObject.store;import{Switch,Card}from"../components/index.js";const autoSettings=[{id:"autoExpAttack",label:_("main_window.tabs.exp.atk"),handler:handleAutoSettings},{id:"autoExpNegotiate",label:_("main_window.tabs.exp.nego"),handler:handleAutoSettings}];function onPresetChanged(e){const t=sharedObject.bgApi;e=e.target.value;const a=useDispatch();a({type:"EXP:PRESET_CHANGED",payload:e});e=store.getState().botConfig;t.setConfig(e)}const ExpeditionTab=Component(()=>{var e=useSelector(e=>e.botConfig);const t=e.expedition;e=e.armyConfig;const a=t.armyPreset;return html`<div class="tab-pane fade" id="expedition" role="tabpanel" aria-labelledby="expedition-tab">${Card(_("main_window.tabs.exp.settings"),html`<div class="container"><div class="row"><div class="col-6">${autoSettings.map(e=>Switch({...e,checked:t[e.id]}))}</div><div class="col-6"><div class="army-preset"><span class="control-label">${_("main_window.tabs.exp.preset")}</span> <select class="form-control" value=${a} onChange=${onPresetChanged}>${Object.keys(e).map(e=>html`<option value=${e} selected=${e===a}>${e}</option>`)}</select></div></div></div></div>`)}</div>`});async function handleAutoSettings(e,t){const a=useDispatch();a({type:"BOT:EXP_SETTINGS_UPDATED",payload:{[e]:t}}),saveConfig(!0)}async function saveConfig(e=!1){const t=sharedObject.bgApi;var a=store.getState()["botConfig"];await t.setConfig(a,e)}export default ExpeditionTab;